<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NY Application – Step 2: Legal Entity & Business Details</title>
    <link rel="stylesheet" href="../styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="../assets/images/ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Quote ID: 123456789</p>
                <p class="tagline">New York DBL & PFL Application</p>
            </div>
        </header>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 25%;"></div>
            </div>
            <div class="step-info">
                <span class="step-number-display">Step 2 of 8</span>
                <span>Legal Entity Type & Business Details</span>
            </div>
        </div>

        <main>
            <div class="form-section">
                <h2 class="section-title">Legal Entity Type & Business Details</h2>
                <form id="appStep2">
                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Legal Entity Type <span class="required">*</span></h3>
                        <div class="form-group">
                            <label for="entityType">Select Legal Entity Type</label>
                            <select id="entityType" name="entityType" onchange="toggleEntityOther()" style="width: 100%; padding: 0.75rem; border: 2px solid var(--border-color); border-radius: 8px; font-size: 1rem;">
                                <option value="">Select...</option>
                                <option value="soleProprietor">Sole Proprietor</option>
                                <option value="partnership">Partnership</option>
                                <option value="corporation">Corporation</option>
                                <option value="association">Association</option>
                                <option value="limitedPartnerLP">Limited Partner (LP)</option>
                                <option value="jointVenture">Joint Venture (JV)</option>
                                <option value="llc">Limited Liability Co. (LLC)</option>
                                <option value="trustEstate">Trust or Estate</option>
                                <option value="executorTrustee">Executor or Trustee</option>
                                <option value="llp">Limited Liability Partnership (LLP or LLLP)</option>
                                <option value="other">Other</option>
                            </select>
                        </div>
                        <div class="form-group" id="entityTypeOtherGroup" style="display: none;">
                            <label for="legalEntityOther">Please specify legal entity type</label>
                            <input type="text" id="legalEntityOther" name="legalEntityOther" placeholder="Enter legal entity type">
                        </div>
                        <div class="form-group" style="margin-top: 1.5rem;">
                            <label for="entityEstablishedDate">If Business Entity is a Proprietorship, LLC, or LLP, provide the date established:</label>
                            <input type="date" id="entityEstablishedDate" name="entityEstablishedDate">
                        </div>
                    </div>

                    <div style="background: var(--bg-light); padding: 1.5rem; border-radius: 8px; margin-bottom: 2rem;">
                        <h3 style="color: var(--primary-color); margin-bottom: 1rem;">Business Details</h3>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="natureOfBusiness">Nature of Business <span class="required">*</span></label>
                                <input type="text" id="natureOfBusiness" name="natureOfBusiness" required>
                            </div>
                            <div class="form-group">
                                <label for="sicCode">SIC Code</label>
                                <input type="text" id="sicCode" name="sicCode" maxlength="6">
                            </div>
                        </div>
                        <div class="form-group">
                            <label>Public Employer</label>
                            <div class="radio-group" style="display:flex; gap:1rem; flex-wrap:wrap;">
                                <div class="radio-item"><input type="radio" id="publicEmployerYes" name="publicEmployer" value="yes"><label for="publicEmployerYes">Yes</label></div>
                                <div class="radio-item"><input type="radio" id="publicEmployerNo" name="publicEmployer" value="no"><label for="publicEmployerNo">No</label></div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="federalId">Federal ID # <span class="required">*</span></label>
                                <input type="text" id="federalId" name="federalId" placeholder="XX-XXXXXXX" required>
                            </div>
                            <div class="form-group">
                                <label for="unemploymentInsurance">Unemployment Insurance #</label>
                                <input type="text" id="unemploymentInsurance" name="unemploymentInsurance">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="wcCarrier">Current Workers' Compensation Carrier</label>
                                <input type="text" id="wcCarrier" name="wcCarrier">
                            </div>
                            <div class="form-group">
                                <label for="currentDblCarrier">Current DBL Carrier</label>
                                <input type="text" id="currentDblCarrier" name="currentDblCarrier">
                            </div>
                        </div>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="window.location.href='NY-app-step1.html'" onmouseover="this.style.background='white'; this.style.borderColor='#00A4E4'; this.style.transform='translateY(-2px)'; this.style.transition='all 0.3s ease'" onmouseout="this.style.background='#F7F9FA'; this.style.borderColor='#E0E0E0'; this.style.transform='translateY(0)'">← Back</button>
                        <button type="button" class="btn-primary" onclick="saveAndNext()">Continue →</button>
                    </div>
                </form>
            </div>
                <p style="text-align: center; margin-top: 2rem; color: var(--text-light);">For additional information, please see <a href='https://info.shelterpoint.com/paid-family-medical-leave/ny' target='_blank' rel='noopener'>state specific page</a>.</p>
        </main>

        <footer>
            <p>© 2025 ShelterPoint Life Insurance Company</p>
        </footer>
    </div>

    <script>
        function toggleEntityOther(){
            const select = document.getElementById('entityType');
            const otherGroup = document.getElementById('entityTypeOtherGroup');
            if(!select || !otherGroup) return;
            otherGroup.style.display = select.value === 'other' ? 'block' : 'none';
        }

        function loadData() {
            const data = JSON.parse(sessionStorage.getItem('applicationData') || '{}');
            Object.keys(data).forEach(function(key){
                const el = document.getElementById(key);
                if (el) {
                    if (el.type === 'radio') {
                        if (el.value === data[el.name]) el.checked = true;
                    } else {
                        el.value = data[key];
                    }
                }
            });
            toggleEntityOther();
        }

        function saveAndNext() {
            const form = document.getElementById('appStep2');
            const fd = new FormData(form);
            const existing = JSON.parse(sessionStorage.getItem('applicationData') || '{}');
            // consolidate selected radio values by name
            const radios = {};
            form.querySelectorAll('input[type="radio"]').forEach(function(r){
                if (r.checked) radios[r.name] = r.value;
            });
            Object.assign(existing, radios);
            fd.forEach((v,k)=> existing[k] = v);
            sessionStorage.setItem('applicationData', JSON.stringify(existing));
            window.location.href = 'NY-app-step3.html';
        }

        window.addEventListener('DOMContentLoaded', loadData);
    </script>
</body>
</html>









