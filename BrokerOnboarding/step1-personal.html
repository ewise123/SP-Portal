<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Step 1: Personal Information - ShelterPoint Onboarding</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">
                <img src="ShelterPoint.jpg" alt="ShelterPoint Life Insurance Company" style="height: 50px;">
                <p class="tagline">Producer Onboarding</p>
            </div>
        </header>

        <div class="progress-container">
            <div class="progress-bar">
                <div class="progress-fill" style="width: 16.67%;"></div>
            </div>
            <div class="step-info">
                <span class="step-number-display">Step 1 of 6</span>
                <span>Personal Information</span>
            </div>
        </div>

        <main>
            <div class="form-section">
                <h2 class="section-title">Tell us about yourself</h2>
                <p class="section-description">Let's start with your basic information.</p>

                <form id="personalForm">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName">First Name <span class="required">*</span></label>
                            <input type="text" id="firstName" name="firstName" required>
                            <span class="error-message" id="firstNameError">Please enter your first name</span>
                        </div>

                        <div class="form-group">
                            <label for="lastName">Last Name <span class="required">*</span></label>
                            <input type="text" id="lastName" name="lastName" required>
                            <span class="error-message" id="lastNameError">Please enter your last name</span>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="title">Title / Position</label>
                        <input type="text" id="title" name="title" placeholder="e.g., Insurance Agent, Broker, Principal">
                        <span class="help-text">Your professional title or role</span>
                    </div>

                    <div class="form-group">
                        <label for="workEmail">Work Email Address <span class="required">*</span></label>
                        <input type="email" id="workEmail" name="workEmail" required>
                        <span class="error-message" id="emailError">Please enter a valid email address</span>
                        <span class="help-text">We'll use this for all official communications</span>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="officePhone">Office Phone <span class="required">*</span></label>
                            <input type="tel" id="officePhone" name="officePhone" placeholder="(555) 123-4567" required>
                            <span class="error-message" id="phoneError">Please enter a valid phone number</span>
                        </div>

                        <div class="form-group">
                            <label for="extension">Extension or Direct Dial</label>
                            <input type="text" id="extension" name="extension" placeholder="ext. 123">
                        </div>
                    </div>

                    <div class="info-box">
                        <h3>üí° Why we need this information</h3>
                        <p>Your contact information allows us to communicate with you about applications, commissions, and important updates. All information is kept secure and confidential.</p>
                    </div>

                    <div class="button-group">
                        <button type="button" class="btn-secondary" onclick="goBack()">‚Üê Back</button>
                        <button type="submit" class="btn-primary">Continue ‚Üí</button>
                    </div>
                </form>
            </div>
        </main>

        <footer>
            <p>¬© 2025 ShelterPoint Life Insurance Company | Need help? Call 800-365-4999</p>
        </footer>
    </div>

    <script>
        // Load saved data
        window.addEventListener('DOMContentLoaded', function() {
            const savedData = JSON.parse(localStorage.getItem('onboardingData') || '{}');
            if (savedData.personal) {
                Object.keys(savedData.personal).forEach(key => {
                    const input = document.getElementById(key);
                    if (input) input.value = savedData.personal[key];
                });
            }
        });

        // Form validation and submission
        document.getElementById('personalForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            // Validate form
            let isValid = true;
            const formData = {
                firstName: document.getElementById('firstName').value.trim(),
                lastName: document.getElementById('lastName').value.trim(),
                title: document.getElementById('title').value.trim(),
                workEmail: document.getElementById('workEmail').value.trim(),
                officePhone: document.getElementById('officePhone').value.trim(),
                extension: document.getElementById('extension').value.trim()
            };

            // Validate first name
            if (!formData.firstName) {
                showError('firstName');
                isValid = false;
            } else {
                hideError('firstName');
            }

            // Validate last name
            if (!formData.lastName) {
                showError('lastName');
                isValid = false;
            } else {
                hideError('lastName');
            }

            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!formData.workEmail || !emailRegex.test(formData.workEmail)) {
                showError('workEmail');
                isValid = false;
            } else {
                hideError('workEmail');
            }

            // Validate phone
            if (!formData.officePhone) {
                showError('officePhone');
                isValid = false;
            } else {
                hideError('officePhone');
            }

            if (isValid) {
                // Save data
                const allData = JSON.parse(localStorage.getItem('onboardingData') || '{}');
                allData.personal = formData;
                localStorage.setItem('onboardingData', JSON.stringify(allData));
                
                // Navigate to next step
                window.location.href = 'step2-business.html';
            }
        });

        function showError(fieldId) {
            const input = document.getElementById(fieldId);
            const error = document.getElementById(fieldId + 'Error');
            input.classList.add('error');
            if (error) error.style.display = 'block';
        }

        function hideError(fieldId) {
            const input = document.getElementById(fieldId);
            const error = document.getElementById(fieldId + 'Error');
            input.classList.remove('error');
            if (error) error.style.display = 'none';
        }

        function goBack() {
            window.location.href = 'index.html';
        }

        // Auto-format phone number
        document.getElementById('officePhone').addEventListener('input', function(e) {
            let value = e.target.value.replace(/\D/g, '');
            if (value.length > 0) {
                if (value.length <= 3) {
                    value = '(' + value;
                } else if (value.length <= 6) {
                    value = '(' + value.slice(0, 3) + ') ' + value.slice(3);
                } else {
                    value = '(' + value.slice(0, 3) + ') ' + value.slice(3, 6) + '-' + value.slice(6, 10);
                }
                e.target.value = value;
            }
        });
    </script>
</body>
</html>
